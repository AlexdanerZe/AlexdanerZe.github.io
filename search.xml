<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>直播电商竞品分析</title>
      <link href="/posts/a8530aa8.html"/>
      <url>/posts/a8530aa8.html</url>
      
        <content type="html"><![CDATA[<h1 id="直播电商竞品分析"><a href="#直播电商竞品分析" class="headerlink" title="直播电商竞品分析"></a>直播电商竞品分析</h1><blockquote><p>写这篇文章通过竞品分析，了解直播电商行业现状，包括市场规模，核心竞争力是什么，产品基础功能等等，并且锻炼自己对产品未来的敏感度。</p></blockquote><h3 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h3><p>电商市场愈发成熟，市场规模增长速度逐渐放缓，赛道玩家在拓展用户群上，瞄准了下沉市场以及海外市场，形成了以拼多多主打折扣的团购电商分支以及以考拉海购主打品质的跨境电商，除此之外，赛道玩家在刺激消费，转化成交率上，加入了更多玩法，其中“直播+电商”便是一种热门的玩法。仅至2019年H1季度，中国直播行业规模高达4.33亿，直播这一娱乐形式被大众所接受，电商结合直播的实时性，互动性，真实性，进一步提升商品的转化成交率。以下便是更细致地研究现有的产品以及行业状况。</p><h3 id="二、行业分析"><a href="#二、行业分析" class="headerlink" title="二、行业分析"></a>二、行业分析</h3><h4 id="1-基础行业环境"><a href="#1-基础行业环境" class="headerlink" title="1.基础行业环境"></a>1.基础行业环境</h4><h5 id="1-1-市场规模"><a href="#1-1-市场规模" class="headerlink" title="1.1 市场规模"></a>1.1 市场规模</h5><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="H:%5CProject%5CBlog%5Csource%5C_posts%5C%E7%9B%B4%E6%92%AD%E7%94%B5%E5%95%86%E7%AB%9E%E5%93%81%E5%88%86%E6%9E%90%5C10001eda86b5cebc9d723df495833cbe1d8bfa9b09a1cc76e45d781fcaa9173a8968c" alt="2017~2020年中国电商直播市场规模预测"></p><p>从艾媒咨询提供的直播电商报告中，我们可以获取到2019年直播电商市场规模4338亿，以及当年增长率为225%，在2020年随着市场日益成熟，大众对直播电商的接受度逐渐提高，艾媒所预计的增长率约111%以及9610亿市场规模是可信的。</p><p>除此以外，发展成熟的蘑菇街也为我们揭示直播电商的可行性。在2020财年第一季度，蘑菇街平台GMV为41.72亿元，其中直播业务GMV13.15亿元，同比增长102.7%；蘑菇街直播业务GMV已占平台GMV总量的31.5%。此外，截至2019年6月30日，过去12个月内，蘑菇街直播业务的活跃买家为270万，同比增长90.4%。</p><h5 id="1-2-用户规模"><a href="#1-2-用户规模" class="headerlink" title="1.2 用户规模"></a>1.2 用户规模</h5><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="H:%5CProject%5CBlog%5Csource%5C_posts%5C%E7%9B%B4%E6%92%AD%E7%94%B5%E5%95%86%E7%AB%9E%E5%93%81%E5%88%86%E6%9E%90%5C10001d9020e0962bf26757e150786147c273370a720bdc6d45cd08f9e03560e85e96c" alt="2019~2020中国直播电商用户规模及预测"></p><p>在直播方面，我国网络直播用户规模达5. 60 亿，较 2018 年底增长1. 63 亿，占网民整体的62.0%。而在 2019 年兴起并实现快速发展的电商直播用户规模为2. 65 亿，占网民整体的29.3%。</p><p>从数据上看趋势，直播电商用户规模占比直播用户近一半，在未来该趋势将会随着直播电商行业成熟而升高。</p><h5 id="1-3-产品相关"><a href="#1-3-产品相关" class="headerlink" title="1.3 产品相关"></a>1.3 产品相关</h5><p>直播电商产品在整个行业作为平台，提供了店铺直播功能，购物以及售后功能。以及通过查阅赛道头号玩家——淘宝直播相关资料，了解其市场定位<strong>“有趣，有用，有料”</strong>，有趣代表着直播行业的泛娱乐性质，有用代表着产品作用还是起到购物指引，有料代表着产品功能玩法等都是贴切电商。</p><p>而在商业模式上，平台通过提升购物交易率，在其中抽佣；平台亦提供流量导流功能，从中收取一定费用；平台也借鉴直播行业的打赏功能，对礼物的转化进行收费等等。</p><h4 id="2-行业环境分析"><a href="#2-行业环境分析" class="headerlink" title="2.行业环境分析"></a>2.行业环境分析</h4><h5 id="2-1-宏观行业环境分析"><a href="#2-1-宏观行业环境分析" class="headerlink" title="2.1 宏观行业环境分析"></a>2.1 宏观行业环境分析</h5><p><strong>政治方面：</strong>由于电商与直播行业的发展已进入成熟期，政府也颁布相关监管政策，赛道玩家可按相应规则参与，并且从广州市商务局出台《广州市直播电商发展行动方案（2020-2022年）》来看，政府对大力发展直播电商看好，有望为经济建设添砖加瓦，所以在政治方面展现利好一面。</p><p><strong>经济方面：</strong>淘宝直播作为行业头号玩家引领着行业发展，与此同时抖音、快手等短视频赛道玩家也进场，市场竞争日益激烈，与此同时泛娱乐文化相关产业与商品相关供应商，也抓住此机会，提供内容输出与商品输入，使得行业生态趋于良好，令多方获益。</p><p><strong>社会方面：</strong>如李佳琦、薇娅等带货网红的出现，在各类购物狂欢节狂砍高交易额，更有罗永浩、马云等知名人物下场带货，都说明了网民对直播电商度较高。另一方面，因为疫情影响，大众闲暇时间增长，泛娱乐时间增长，并且线下部分消费转移线上，也提高了直播电商的用户量。</p><p><strong>技术方面：</strong>直播与电商相关技术早已成熟，如何使输出的内容与用户需求所匹配成为了其中较为重要部分。</p><h5 id="2-2-微观行业环境分析"><a href="#2-2-微观行业环境分析" class="headerlink" title="2.2 微观行业环境分析"></a>2.2 微观行业环境分析</h5><p><strong>潜在新进入者的威胁：</strong>因直播电商所需要的内容输出以及交易平台，类似腾讯、MCN机构的主营泛娱乐的企业会电商行业相结合进场，由电商平台提供直播平台，联合品牌商入住，由泛娱乐公司提供内容输出。但用户的同一时间直播观看对象是有限的，如何吸引用户观看并购买，成了产品重中之重，所以新进入者掌握用户兴趣爱好以及能够根据商品产出相应高质量内容，提升观看体验与减少商品的度量成本，可以在市场中取得一席之位。</p><p><strong>潜在替代产品：</strong>用户接受度与用户习惯是两码事，原有搜索导购能够基本满足用户使用电商产品需求，直播电商提供了形式的丰富度以及商品真实性，这两点其他内容导购型产品通过短视频、图文等形式，同样能够满足，与直播相比其创作成本较低，存在一定的替换可能。</p><p><strong>行业内竞争对手：</strong>同行业内竞争更多看重的是平台引流能力，平台商品可靠性，内容丰富性，淘宝直播拥有着直接电商淘宝的导流能力，有着背后成熟的电商能力，而抖音、快手自带内容丰富度，同时具有不俗的泛娱乐流量</p><p><strong>供应方的议价能力：</strong>供应方主要分为MCN和品牌商，首先，直播电商平台较多，诸如淘宝直播、抖音、快手等平台实力均衡，供应方可选择性较大，其次，供应方因为成本过高，不能够实现前向一体化，最后，供应方提供的内容和产品，除了头号主播和知名品牌商，替代品较多。所以除了头号主播和知名品牌商，其余供应商的议价能力并不强。</p><p><strong>买方的议价能力：</strong>首先，消费者人数较多，不能对卖方造成太大压力；其次，卖方市场的组成较为成熟，已有巨头企业入驻，消费者可选平台仅为几家；最后，c端消费者，无法实现后向一体化，所以，买方议价能力同样也并不强。</p><h3 id="三、竞品分析"><a href="#三、竞品分析" class="headerlink" title="三、竞品分析"></a>三、竞品分析</h3><h4 id="1-竞品选择"><a href="#1-竞品选择" class="headerlink" title="1.竞品选择"></a>1.竞品选择</h4><p>淘宝直播、抖音-电商、快手-电商、蘑菇街、寺库</p><h4 id="2-分析维度"><a href="#2-分析维度" class="headerlink" title="2.分析维度"></a>2.分析维度</h4><h5 id="2-1-产品定位"><a href="#2-1-产品定位" class="headerlink" title="2.1 产品定位"></a>2.1 产品定位</h5><h4 id="2-2"><a href="#2-2" class="headerlink" title="2.2"></a>2.2</h4><h4 id="3-输出结论"><a href="#3-输出结论" class="headerlink" title="3.输出结论"></a>3.输出结论</h4>]]></content>
      
      
      <categories>
          
          <category> 产品 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 行业分析 </tag>
            
            <tag> 竞品分析 </tag>
            
            <tag> 直播电商 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法学习（一）</title>
      <link href="/posts/d7cbc596.html"/>
      <url>/posts/d7cbc596.html</url>
      
        <content type="html"><![CDATA[<h2 id="学习算法思路"><a href="#学习算法思路" class="headerlink" title="学习算法思路"></a>学习算法思路</h2><h3 id="一、数据结构的存储方式"><a href="#一、数据结构的存储方式" class="headerlink" title="一、数据结构的存储方式"></a>一、数据结构的存储方式</h3><p><strong>数据结构的存储方式只有两种：数组（顺序存储）和链表（链式存储）</strong>。</p><p>综上，数据结构种类很多，甚至你也可以发明自己的数据结构，但是底层存储无非数组或者链表，<strong>二者的优缺点如下</strong>：</p><p><strong>数组</strong>由于是紧凑连续存储,可以随机访问，通过索引快速找到对应元素，而且相对节约存储空间。但正因为连续存储，内存空间必须一次性分配够，所以说数组如果要扩容，需要重新分配一块更大的空间，再把数据全部复制过去，时间复杂度 O(N)；而且你如果想在数组中间进行插入和删除，每次必须搬移后面的所有数据以保持连续，时间复杂度 O(N)。</p><p><strong>链表</strong>因为元素不连续，而是靠指针指向下一个元素的位置，所以不存在数组的扩容问题；如果知道某一元素的前驱和后驱，操作指针即可删除该元素或者插入新元素，时间复杂度 O(1)。但是正因为存储空间不连续，你无法根据一个索引算出对应元素的地址，所以不能随机访问；而且由于每个元素必须存储指向前后元素位置的指针，会消耗相对更多的储存空间。</p>]]></content>
      
      
      <categories>
          
          <category> 开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gcmformojo使用教程</title>
      <link href="/posts/5b53.html"/>
      <url>/posts/5b53.html</url>
      
        <content type="html"><![CDATA[<h1 id="Gcmformojo使用教程"><a href="#Gcmformojo使用教程" class="headerlink" title="Gcmformojo使用教程"></a>Gcmformojo使用教程</h1><p>能够使你关闭后台应用程序，但微信/QQ仍能收发消息</p><h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>1.需要一台服务器（gcm推送需要能翻墙服务器，mipush可用国内服务器）</p><p>2.服务器系统建议使用centos 7</p><p>3.需要开放端口 QQ：5000和微信：3000（具体操作建议自行查看各个vps提供商的开放端口操作）</p><p>4.最好会liunx一些操作，以及vim编辑器的常规操作</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="架设相关环境（均在root权限下）"><a href="#架设相关环境（均在root权限下）" class="headerlink" title="架设相关环境（均在root权限下）"></a>架设相关环境（均在root权限下）</h3><pre><code>yum -y groupinstall &quot;Development Tools&quot;</code></pre><pre><code>yum install vim git openssl-devel perl cpan make gcc g++</code></pre><h2 id="安装项目"><a href="#安装项目" class="headerlink" title="安装项目"></a>安装项目</h2><p>由于我们需要 Mojo::WebQQ 这个 Perl 语言项目作为主机端接收QQ消息的平台，同时 CentOS 7 自带 yum 源没有 Cpanm 包管理，所以接下来需要安装 Cpanm</p><pre class=" language-yum"><code class="language-yum">yum install perl-App-cpanminus.noarch</code></pre><pre class=" language-curl"><code class="language-curl">curl -kL https://cpanmin.us | perl - App::cpanminus官方服务器在国外，如果无法访问，可以选择下面的命令： curl http://share-10066126.cos.myqcloud.com/cpanm.pl|perl - App::cpanminus</code></pre><p>安装好cpanm，我们开始安装Mojo::Webqq</p><pre><code>cpanm Mojo::Webqq</code></pre><p>注：这个安装很玄学，往往安装不是完整的，即便我是国外的vps，可以再执行以下代码，安装国内镜像</p><pre><code>cpanm --mirror http://mirrors.163.com/cpan/ Mojo::Webqq</code></pre><p>Mojo::Weixin的安装方法大致相同</p><pre class=" language-cpanm"><code class="language-cpanm">cpanm Mojo::Weixin</code></pre><pre><code>cpanm --mirror http://mirrors.163.com/cpan/ Mojo::Weixin</code></pre><p>建议再次检查依赖模块检查</p><p>webqq:</p><blockquote><pre><code>curl -ks &quot;https://raw.githubusercontent.com/sjdy521/Mojo-Webqq/master/script/check_dependencies.pl&quot;|perl -</code></pre></blockquote><p>weixin:</p><blockquote><pre><code>curl -ks &quot;https://raw.githubusercontent.com/sjdy521/Mojo-Weixin/master/script/check_dependencies.pl&quot;|perl -</code></pre></blockquote><h3 id="设定文件"><a href="#设定文件" class="headerlink" title="设定文件"></a>设定文件</h3><p>这里我们使用vim对文件进行编辑。</p><pre class=" language-vim"><code class="language-vim"><span class="token keyword">vim</span> qq<span class="token operator">.</span>pl</code></pre><p>可能很多人不了解vim的基础操作，下面介绍一下</p><pre class=" language-i"><code class="language-i">i      进入编辑模式esc    退出编辑模式:wq      退出编辑模式下，保存并退出:q!      退出编辑模式下，强制退出:w!      退出编辑模式下，强制保存，无视权限</code></pre><p>这里给出一个 Perl 脚本文件的模板，具体内容请根据实际情况替换更改</p><pre class=" language-use"><code class="language-use">use Mojo::Webqq;#微信使用 use Mojo::Weixinmy $client = Mojo::Webqq->new(log_encoding=>"utf-8");$client->load("ShowMsg");#请根据自己所需的推送服务进行选择并删除或注释不需要的部分，填写格式请仿照 GCM 的方式填写#以下为 GCM 推送$client->load("GCM",data=>{api_url => 'https://gcm-http.googleapis.com/gcm/send',api_key=>'AIzaSyB18io0hduB_3uHxKD3XaebPCecug27ht8',registration_ids=>["输入你自己从 GCMForMojo APP中获取到的令牌"],allow_group=>["接收群消息的号码，如需要推送全部群消息可删除这一行，每个群号码之间使用 "", 分隔"],#注：group这里微信是群聊名称，qq是群号码#微信需要屏蔽公众号消息可加上 is_ban_official =>1,ban_group=>[],allow_discuss=>[],ban_discuss=>[],#此处为讨论组，填写格式同上});#以下为 MiPush 推送$client->load("MiPush",data=>{registration_ids=>[""],allow_group=>[""],ban_group=>[],allow_discuss=>[],ban_discuss=>[],});#以下为 HwPush 推送$client->load("HwPush",data=>{registration_ids=>[""],allow_group=>[""],ban_group=>[],allow_discuss=>[],ban_discuss=>[],});$client->load("UploadQRcode");$client->load("Openqq",data=>{#如果是微信改为 Openwxlisten => [{host=>"0.0.0.0",port=>5000}, ] ,#如果是推送微信的话需要保证端口不重复，并请保证所设定的端口已经在防火墙内放行，同时需要在 APP 内设定好推送服务器的地址和端口#微信可改端口3000#注：host不需要改，否则发不了消息，只需要在app上改服务器。});#不需要 APP 内回复功能请删除以上三行（不包括被 # 号注释掉的几行）$client->run();</code></pre><p>保存退出后执行</p><pre class=" language-perl"><code class="language-perl">perl qq<span class="token operator">.</span>pl</code></pre><p>这时候你的 GCMForMojo APP 应该会弹出一条检测到二维码事件的通知，点击它，使用手机端 QQ 扫描这个二维码，你的 GCMForMojo 就跑起来了</p><p>注：微信需要借助第二台设备进行扫码登陆</p><h3 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h3><p>perl进程并不会后台运行，这时候我们需要借助于screen命令</p><p>先安装screen</p><pre class=" language-yum"><code class="language-yum">yum install -y screen</code></pre><p>新建一个名为qqpush的screen窗口</p><pre><code>screen -S qqpush</code></pre><p>再执行</p><pre><code>perl qq.pl</code></pre><p>最后</p><pre><code>按Ctrl +a +d</code></pre><p>便可以退出客户端并且保持后台进行了</p>]]></content>
      
      
      <categories>
          
          <category> 工具相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Push </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fcmformojo使用教程</title>
      <link href="/posts/9783.html"/>
      <url>/posts/9783.html</url>
      
        <content type="html"><![CDATA[<h1 id="Fcmformojo使用教程"><a href="#Fcmformojo使用教程" class="headerlink" title="Fcmformojo使用教程"></a>Fcmformojo使用教程</h1><p>能够使你关闭后台应用程序，但微信/QQ仍能收发消息</p><h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>1.需要一台服务器</p><p>2.服务器系统建议使用centos 7</p><p>3.需要开放端口 5003/5004/5005（具体操作建议自行查看各个vps提供商的开放端口操作）</p><p>4.最好会liunx一些操作，以及vim编辑器的常规操作</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="假设相关环境"><a href="#假设相关环境" class="headerlink" title="假设相关环境"></a>假设相关环境</h3><pre><code>yum -y groupinstall &quot;Development Tools&quot;</code></pre><pre><code>yum install vim git openssl-devel perl cpan make gcc g++</code></pre><p>安装EPEL 仓库</p><pre><code>yum install epel-release</code></pre><p>安装nodejs</p><pre><code>yum install nodejs</code></pre><p>安装npm</p><pre><code>yum install npm</code></pre><p>安装git</p><pre><code>yum install git</code></pre><h2 id="安装项目"><a href="#安装项目" class="headerlink" title="安装项目"></a>安装项目</h2><p>由于我们需要 Mojo::WebQQ 这个 Perl 语言项目作为主机端接收QQ消息的平台，同时 CentOS 7 自带 yum 源没有 Cpanm 包管理，所以接下来需要安装 Cpanm</p><pre class=" language-yum"><code class="language-yum">yum install perl-App-cpanminus.noarch</code></pre><pre class=" language-curl"><code class="language-curl">curl -kL https://cpanmin.us | perl - App::cpanminus官方服务器在国外，如果无法访问，可以选择下面的命令： curl http://share-10066126.cos.myqcloud.com/cpanm.pl|perl - App::cpanminus</code></pre><p>安装好cpanm，我们开始安装Mojo::Webqq</p><pre><code>cpanm Mojo::Webqq</code></pre><p>注：这个安装很玄学，往往安装不是完整的，即便我是国外的vps，可以再执行以下代码，安装国内镜像</p><pre><code>cpanm --mirror http://mirrors.163.com/cpan/ Mojo::Webqq</code></pre><p>安装拓展：</p><pre><code>yum install -y perl-Crypt-OpenSSL-RSA perl-Crypt-OpenSSL-Bignum</code></pre><p>建议再次检查依赖模块检查</p><p>webqq:</p><blockquote><pre><code>curl -ks &quot;https://raw.githubusercontent.com/sjdy521/Mojo-Webqq/master/script/check_dependencies.pl&quot;|perl -</code></pre></blockquote><h5 id="下载服务端"><a href="#下载服务端" class="headerlink" title="下载服务端"></a>下载服务端</h5><p>执行下面几条命令来下载服务端并安装所需的 node 依赖。</p><pre><code>git clone https://github.com/RikkaApps/FCM-for-Mojo-Server.gitcd FCM-for-Mojo-Servercp config.example.js config.jsnpm install</code></pre><p>运行</p><blockquote><p>为避免错过二维码扫描通知而不知所措，建议在运行前先完成客户端配置的一部分（填写好服务器 URL）。</p></blockquote><pre><code>npm start</code></pre>]]></content>
      
      
      <categories>
          
          <category> 工具相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Push </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>520产品复盘</title>
      <link href="/posts/ae8c.html"/>
      <url>/posts/ae8c.html</url>
      
        <content type="html"><![CDATA[<h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a><strong>综述</strong></h2><p>工作室”520”活动结束感慨良多，无论是在安排任务给新生，还是自己对于产品的把控，还是存在蛮多的不足，需要改进。</p><h2 id="文章大纲"><a href="#文章大纲" class="headerlink" title="文章大纲"></a><strong>文章大纲</strong></h2><p>@[TOC]</p><h2 id="复盘总结"><a href="#复盘总结" class="headerlink" title="复盘总结"></a><strong>复盘总结</strong></h2><blockquote><p>复盘结构，我会按照项目开发流程进行结果评估以及改进建议</p></blockquote><h4 id="0-结果总结"><a href="#0-结果总结" class="headerlink" title="0.结果总结"></a><strong>0.结果总结</strong></h4><p>这是工作室对校内做的一次线上产品辅助线下活动开展的运营活动。</p><p>从数据上看，尽管这次活动近4000的浏览量和2500多的唯一身份浏览量，但是当我根据业务流程建立相应的漏斗模型，发现最后的转化效果不佳，只有25%左右的转化效果。</p><p>从目的上看，对于新生练手体验来说，这次活动起着一定作用，但是在扩大影响力上看，仍做的不好，问题出现在前期对产品定义存在问题，以及后续活动制定跟不上。</p><h4 id="1-目标确立阶段"><a href="#1-目标确立阶段" class="headerlink" title="1.目标确立阶段"></a><strong>1.目标确立阶段</strong></h4><p>这次活动的发起是由多方的需求促成的。</p><ul><li>中心组：需要有落地的产品，扩大家园影响力。</li><li>产品组：需要通过产品上线后验证现产品组业务能力是否过关，以及体会数据分析相关操作。</li><li>运营组：需要尝试活动策划相关，提升微信公众号影响力。</li><li>研发组：需要学会如何进行项目排期，测试等。</li></ul><p>目标：根据近期热点(520情人节活动)，设计线上产品，并加以线下活动，达到扩大家园影响力的作用。</p><h4 id="2-需求阶段"><a href="#2-需求阶段" class="headerlink" title="2.需求阶段"></a><strong>2.需求阶段</strong></h4><h5 id="2-1-需求分析阶段"><a href="#2-1-需求分析阶段" class="headerlink" title="2.1 需求分析阶段"></a><strong>2.1 需求分析阶段</strong></h5><blockquote><p>个人分析：</p><p>从用户上分析：用户可分为情侣，和单身贵族。</p><p>情侣：”520”这一含有谐音寓意的节日的出现，我看来更多的是因为情侣之间所需的仪式感，那么对于如何实现仪式感，我会更倾向”秀恩爱”这一行为。针对情侣，我就会突出”秀”这个动词。</p><p>单身贵族：相对的，正因为有对美好事物的向往，但不能够拥有，从而生成”柠檬精”这一新生词。那么在这种看似专属的情侣的节日，我们可以针对单身贵族，我就会突出”酸”这个动词。</p></blockquote><p>新生想法：没能够在我所提出的产品方向，想到好点子或者认为部分点子太low，不能够拉动用户，（我忽略了运营其自身对产品的认知不足等问题）。在产品上，选择了以答题形式测试双方的默契度，但在产品流程上没有做的很完善。</p><p>作为指导者，我认为不应该对新生的工作加以过多干涉以及需要让运营做主导，对于产品把控上，错误得将产品方向交由运营把控，尽管最后对产品新生说明需要把控产品方向，但在团队多人合作中，产品新生没能够通过自己的产品思维说服团队。</p><h5 id="2-2-需求定义阶段"><a href="#2-2-需求定义阶段" class="headerlink" title="2.2 需求定义阶段"></a><strong>2.2 需求定义阶段</strong></h5><h6 id="2-2-1-需求文档输出："><a href="#2-2-1-需求文档输出：" class="headerlink" title="2.2.1 需求文档输出："></a><strong>2.2.1 需求文档输出：</strong></h6><h6 id="不够完整，异常情况不完整，业务流程仍有漏洞。"><a href="#不够完整，异常情况不完整，业务流程仍有漏洞。" class="headerlink" title="不够完整，异常情况不完整，业务流程仍有漏洞。"></a>不够完整，异常情况不完整，业务流程仍有漏洞。</h6><h6 id="2-2-2-用户场景："><a href="#2-2-2-用户场景：" class="headerlink" title="2.2.2 用户场景："></a><strong>2.2.2 用户场景：</strong></h6><p>​        对于用户场景不够明确，用户未能按照预想场景进行操作。</p><p><strong>修改建议：</strong></p><ol><li>对于每个功能点的业务流程（包括异常状况），必须明确清晰。</li><li>对于用户画像以及场景设置，需要在抽象出用户特征后，更加准确地构建。</li></ol><h5 id="2-3-需求变更阶段"><a href="#2-3-需求变更阶段" class="headerlink" title="2.3 需求变更阶段"></a><strong>2.3 需求变更阶段</strong></h5><h6 id="2-3-1-需求变更次数："><a href="#2-3-1-需求变更次数：" class="headerlink" title="2.3.1 需求变更次数："></a><strong>2.3.1 需求变更次数：</strong></h6><p>​        较多</p><h6 id="2-3-2-需求变更影响："><a href="#2-3-2-需求变更影响：" class="headerlink" title="2.3.2 需求变更影响："></a><strong>2.3.2 需求变更影响：</strong></h6><ol><li>因为微信认证没有及时确认是否成功，导致用户体系变动。</li><li>对于需求变动后的解决方式考虑不周。</li><li>需求文档没有及时更新，业务逻辑不清晰，导致研发设计在开发过程中需要增加工作量。</li><li>团队沟通没有及时跟上，产品新生脱节。</li></ol><p><strong>修改建议：</strong>        </p><ol><li>产品在前期必须将产品所需文件在第一时间提交，确认。</li><li>产品在需求变动过程中，需要根据工期以及原先预定的目标，修改相关需求内容，而不是救急式修改。</li><li>加强团队沟通，让整个团队知道当前项目状况。</li></ol><h4 id="3-上线阶段"><a href="#3-上线阶段" class="headerlink" title="3.上线阶段"></a><strong>3.上线阶段</strong></h4><h5 id="3-1-线上产品"><a href="#3-1-线上产品" class="headerlink" title="3.1 线上产品"></a><strong>3.1 线上产品</strong></h5><ol><li>我们通过加强了反馈问题机制，收集用户反馈问题，及时采取相应的方案去解决。</li></ol><h5 id="3-2-线下活动"><a href="#3-2-线下活动" class="headerlink" title="3.2 线下活动"></a><strong>3.2 线下活动</strong></h5><ol><li>活动形式没有切合目的，只想了给产品活跃的形式，没有进行相对应的转化。</li></ol><h4 id="4-后续思考"><a href="#4-后续思考" class="headerlink" title="4.后续思考"></a><strong>4.后续思考</strong></h4><h5 id="待续"><a href="#待续" class="headerlink" title="待续"></a>待续</h5><h5 id=""><a href="#" class="headerlink" title=""></a></h5>]]></content>
      
      
      <categories>
          
          <category> 产品 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 复盘 </tag>
            
            <tag> 项目总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>需求分析——学习总结</title>
      <link href="/posts/36e2.html"/>
      <url>/posts/36e2.html</url>
      
        <content type="html"><![CDATA[<h1 id="需求分析及案例"><a href="#需求分析及案例" class="headerlink" title="需求分析及案例"></a>需求分析及案例</h1><blockquote><p>个人总结产品经理相关学习，需求分析篇</p></blockquote><h3 id="一、需求是什么以及有什么特点"><a href="#一、需求是什么以及有什么特点" class="headerlink" title="一、需求是什么以及有什么特点"></a>一、需求是什么以及有什么特点</h3><p>需求，说白了就是“人的欲望合集”，但为方便工作中对需求有更好的拆解，利用需求模型——<strong>“用户在特定场景下所遇到的问题”</strong>。可以发现存在三个关键要素，<strong>“用户”</strong>，“<strong>场景”</strong>，<strong>“问题”</strong>，但都较为抽象，笔者通过细分相关维度的方式，以加深理解。</p><ul><li><p><strong>用户</strong>：年龄 / 性别 / 教育 / 家庭情况 / 经济水平 / 行为习惯 /身份 / …</p></li><li><p><strong>场景</strong>：地点 / 时间 / 状态 / …</p></li><li><p><strong>问题</strong>：</p><ul><li>抽象需要（需求金字塔）：<ul><li>生理：吃/喝/排泄/性/休息 / …</li><li>安全：疾病/暴力/社会 / …</li><li>感情：友情/爱情/亲情 / …</li><li>尊重：自尊/他人尊重 / …</li><li>自我实现：理想 / …</li></ul></li><li>实际问题</li></ul><p>举个例子，方便大家理解，一位大学生男生在观看完NBA总决赛后，热血沸腾，相约朋友去打球，却发现球场人满了，打不了球，从而感到失望。我们进行细化分解，可以得到：</p></li><li><p>“用户”是大学生（<em>教育、年龄</em>）男生（<em>性别</em>）</p></li><li><p>“场景”是观看完NBA总决赛（<em>时间</em>）， 热血沸腾（<em>状态</em>），到球场（<em>地点</em>）</p></li><li><p>“问题”是打不了球（<em>实际问题</em>），热血沸腾到失望（<em>感情</em>）</p></li></ul><p>但从中我们可以发现，如果修改当中某些因素，该需求可能不成立，比如时间改为深夜，球场为空可能性极大，不存在打不了球的情况，也不存在热血沸腾的问题，又或者是他不是一位球迷，不关心NBA，进而不会产生一系列动作。</p><p>这说明了要素之间会相互影响，进而我们得到<strong>需求的特点</strong>：</p><ul><li><strong>受限制的</strong>：三个要素相互之间必须满足一定的关系才能使需求具有实际意义。</li><li><strong>动态的</strong>：要素的修改会导致需求发生变化。</li></ul><p>这有助于发现需求时，提醒自己可能需要注意，勿轻下结论。</p><h3 id="二、需求的来源"><a href="#二、需求的来源" class="headerlink" title="二、需求的来源"></a>二、需求的来源</h3><p>当我们了解了需求是什么之后，我们得找找需求可以从什么途径获得。笔者在收集整理后，可以大致归为以下几类：</p><ul><li><strong>产品规划类需求</strong>：是需要提前思考清楚产品模型所制定的需求，梳理出产品路线图。路线图可以调整，但是核心需求逻辑是不变的。</li></ul><ol start="2"><li><strong>用户类需求</strong>：产品用户画像以及用户操作行为记录分析出来的需求。这部分需求需要针对特定用户做访谈调研确认需求。</li></ol><ul><li><strong>数据分析类需求</strong>：通过产品数据反馈出来的需求。此需求一定要有特定的数据服务。</li><li><strong>业务类需求</strong>：根据业务方提出来的需求配合当前产品规划类需求制定业务需求池。前提这类型需求必须提前知悉业务计划。</li></ul><h3 id="三、需求优先级判定"><a href="#三、需求优先级判定" class="headerlink" title="三、需求优先级判定"></a>三、需求优先级判定</h3><p>当我们获得足够多的需求后，存在着这样的问题：该先做什么呢？所以这时候需要有指标帮助判断，而笔者认为投入产出比（ROI）则是一个很好的评判指标，具体如下：</p><p><strong>投入产出比（ROI）</strong>即 所获得的价值与消耗的成本之比</p><h4 id="1-成本"><a href="#1-成本" class="headerlink" title="1.成本"></a>1.成本</h4><p>在满足用户需求的时候，企业会消耗部分资源去实现对应的功能，当中可能涉及到直接的物资成本，研发成本，人力成本等，同时也有一些无形的成本，例如机会成本，当你优先完成这个功能的时候，会暂时滞后部分别的功能；用户习惯养成成本，在俞军老师的《产品方法论》中提到，用户的一些行为习惯是没有的，例如软件、音乐付费习惯，企业需要通过各类活动或是其他手段，令用户产生相应的习惯。</p><h4 id="2-价值"><a href="#2-价值" class="headerlink" title="2.价值"></a>2.价值</h4><p>用户为什么使用产品，企业为什么提供产品，就是因为双方在产品这个媒介上，获取到相应的价值。用户通过使用产品，能够带来比先前实现相应目的手段更高的效率与价值；企业也可以通过产品实现盈利以及其他商业目的，所以大致把影响需求优先级排序的价值这样分：</p><h5 id="2-1-用户价值"><a href="#2-1-用户价值" class="headerlink" title="2.1 用户价值"></a>2.1 用户价值</h5><p><strong>用户价值=影响面*影响体验</strong></p><ul><li><strong>影响面</strong>：实现功能后，能够影响的用户规模有多大</li><li><strong>影响体验</strong>：用户获得的效用减去成本会有多少，涉及的成本可能会有，直接成本（金钱、时间、隐私等等）、交易成本（搜寻成本，议价成本，学习成本等等）</li></ul><h5 id="2-2-商业价值"><a href="#2-2-商业价值" class="headerlink" title="2.2 商业价值"></a>2.2 商业价值</h5><p>企业或产品最关注的可变现因素——<strong>流量、用户、业务、内容</strong>等，在实现相应功能后，产品能够对这些因素有多少提升。</p><ul><li><strong>流量</strong>：流量总量是否提升？提升多少？质量如何？流量渠道来源是否增加？细分渠道流量会不会更多？…</li><li><strong>用户</strong>：注册用户是否增加？增加多少？转化为活跃用户有多少？转化率多高？转化为付费用户又有多少？转化率又又多高？…</li><li><strong>业务</strong>：是否帮助核心业务效率提升？是否提高业务使用率？是否能够持续进行？…</li><li><strong>内容</strong>：社区产品/内容产品的活跃度是否提高？期间产出内容质量/总量是否提高？</li></ul><h5 id="2-3-注意"><a href="#2-3-注意" class="headerlink" title="2.3 注意"></a>2.3 注意</h5><ol><li>同样ROI的情况下，绝对收益价值高优先完成</li><li>短期内严重威胁盈利价值，优先完成</li></ol><h3 id="4-需求平衡"><a href="#4-需求平衡" class="headerlink" title="4.需求平衡"></a>4.需求平衡</h3><p>当产品的用户并非单边的，而是多边时，我们可以发现用户之间可能存在需求冲突，拿电商举例子，作为卖家，当然希望卖得多，卖的贵，获得高收益，而买家则更多想以低价购得心仪的产品，作为平台，更想让交易达成，所以得根据现状动态满足各类需求，这一过程便是需求平衡。</p><p>但需求平衡说到底还是为了<strong>使产品生态正常甚至呈积极态</strong>。所以明确产品当前目标，理清各方状态，能够帮助产品经理判断该做哪些。</p>]]></content>
      
      
      <categories>
          
          <category> 产品 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 个人总结 </tag>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL练习题</title>
      <link href="/posts/780c7923.html"/>
      <url>/posts/780c7923.html</url>
      
        <content type="html"><![CDATA[<h1 id="Mysql-练习题"><a href="#Mysql-练习题" class="headerlink" title="Mysql 练习题"></a>Mysql 练习题</h1><p><strong>我使用的Mysql版本是5.7.19。答案可能会因版本会有少许出入</strong>。</p><h2 id="练习数据"><a href="#练习数据" class="headerlink" title="练习数据"></a>练习数据</h2><p>数据表 –1.学生表 Student(SId,Sname,Sage,Ssex)</p><p>–SId 学生编号,Sname 学生姓名,Sage 出生年月,Ssex 学生性别</p><p>–2.课程表 Course(CId,Cname,TId) –CId –课程编号,Cname 课程名称,TId 教师编号</p><p>–3.教师表 Teacher(TId,Tname) –TId 教师编号,Tname 教师姓名</p><p>–4.成绩表 SC(SId,CId,score) –SId 学生编号,CId 课程编号,score 分数</p><p>创建测试数据</p><p>学生表 Student</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> Student<span class="token punctuation">(</span>SId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Sname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Sage <span class="token keyword">datetime</span><span class="token punctuation">,</span>Ssex <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'赵雷'</span> <span class="token punctuation">,</span> <span class="token string">'1990-01-01'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'钱电'</span> <span class="token punctuation">,</span> <span class="token string">'1990-12-21'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'孙风'</span> <span class="token punctuation">,</span> <span class="token string">'1990-05-20'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'李云'</span> <span class="token punctuation">,</span> <span class="token string">'1990-08-06'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'周梅'</span> <span class="token punctuation">,</span> <span class="token string">'1991-12-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'吴兰'</span> <span class="token punctuation">,</span> <span class="token string">'1992-03-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'郑竹'</span> <span class="token punctuation">,</span> <span class="token string">'1989-07-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'09'</span> <span class="token punctuation">,</span> <span class="token string">'张三'</span> <span class="token punctuation">,</span> <span class="token string">'2017-12-20'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'10'</span> <span class="token punctuation">,</span> <span class="token string">'李四'</span> <span class="token punctuation">,</span> <span class="token string">'2017-12-25'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'11'</span> <span class="token punctuation">,</span> <span class="token string">'李四'</span> <span class="token punctuation">,</span> <span class="token string">'2017-12-30'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'12'</span> <span class="token punctuation">,</span> <span class="token string">'赵六'</span> <span class="token punctuation">,</span> <span class="token string">'2017-01-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'13'</span> <span class="token punctuation">,</span> <span class="token string">'孙七'</span> <span class="token punctuation">,</span> <span class="token string">'2018-01-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>科目表 Course</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> Course<span class="token punctuation">(</span>CId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Cname nvarchar<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'语文'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'数学'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'英语'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span><span class="token punctuation">)</span></code></pre><p>教师表 Teacher</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> Teacher<span class="token punctuation">(</span>TId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Tname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">)</span></code></pre><p>成绩表 SC</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> SC<span class="token punctuation">(</span>SId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>score <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span></code></pre><h2 id="练习题目"><a href="#练习题目" class="headerlink" title="练习题目"></a>练习题目</h2><ol><li>查询” 01 “课程比” 02 “课程成绩高的学生的信息及课程分数<br>1.1 查询同时存在” 01 “课程和” 02 “课程的情况<br>1.2 查询存在” 01 “课程但可能不存在” 02 “课程的情况(不存在时显示为 null )<br>1.3 查询不存在” 01 “课程但存在” 02 “课程的情况</li><li>查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩</li><li>查询在 SC 表存在成绩的学生信息</li><li>查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩(没成绩的显示为 null )<br>4.1 查有成绩的学生信息</li><li>查询「李」姓老师的数量 </li><li>查询学过「张三」老师授课的同学的信息 </li><li>查询没有学全所有课程的同学的信息 </li><li>查询至少有一门课与学号为” 01 “的同学所学相同的同学的信息 </li><li>查询和” 01 “号的同学学习的课程   完全相同的其他同学的信息 </li><li>查询没学过”张三”老师讲授的任一门课程的学生姓名 </li><li>查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 </li><li>检索” 01 “课程分数小于 60，按分数降序排列的学生信息</li><li>按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩</li><li>查询各科成绩最高分、最低分和平均分：<br>以如下形式显示：课程 ID，课程 name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率<br>及格为&gt;=60，中等为：70-80，优良为：80-90，优秀为：&gt;=90<br>要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列</li><li>按各科成绩进行排序，并显示排名， Score 重复时保留名次空缺<br>15.1 按各科成绩进行排序，并显示排名， Score 重复时合并名次</li><li>查询学生的总成绩，并进行排名，总分重复时保留名次空缺<br>16.1 查询学生的总成绩，并进行排名，总分重复时不保留名次空缺</li><li>统计各科成绩各分数段人数：课程编号，课程名称，[100-85]，[85-70]，[70-60]，[60-0] 及所占百分比</li><li>查询各科成绩前三名的记录</li><li>查询每门课程被选修的学生数 </li><li>查询出只选修两门课程的学生学号和姓名 </li><li>查询男生、女生人数</li><li>查询名字中含有「风」字的学生信息</li><li>查询同名同性学生名单，并统计同名人数</li><li>查询 1990 年出生的学生名单</li><li>查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</li><li>查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩 </li><li>查询课程名称为「数学」，且分数低于 60 的学生姓名和分数 </li><li>查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）</li><li>查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数</li><li>查询不及格的课程</li><li>查询课程编号为 01 且课程成绩在 80 分以上的学生的学号和姓名</li><li>求每门课程的学生人数 </li><li>成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</li><li>成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</li><li>查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 </li><li>查询每门功成绩最好的前两名</li><li>统计每门课程的学生选修人数（超过 5 人的课程才统计）。</li><li>检索至少选修两门课程的学生学号 </li><li>查询选修了全部课程的学生信息</li><li>查询各学生的年龄，只按年份来算 </li><li>按照出生日期来算，当前月日 &lt; 出生年月的月日则，年龄减一</li><li>查询本周过生日的学生</li><li>查询下周过生日的学生</li><li>查询本月过生日的学生</li><li>查询下月过生日的学生</li></ol><h2 id="参考答案"><a href="#参考答案" class="headerlink" title="参考答案"></a>参考答案</h2><p>1.查询” 01 “课程比” 02 “课程成绩高的学生的信息及课程分数</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token punctuation">,</span>score <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'01'</span><span class="token punctuation">)</span><span class="token keyword">as</span> t1 <span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token punctuation">,</span>score <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'02'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t2<span class="token keyword">where</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>t2<span class="token punctuation">.</span>SId<span class="token operator">and</span>   t1<span class="token punctuation">.</span>score<span class="token operator">></span>t2<span class="token punctuation">.</span>score</code></pre><p>1.1 查询同时存在” 01 “课程和” 02 “课程的情况</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token punctuation">,</span>score <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'01'</span><span class="token punctuation">)</span><span class="token keyword">as</span> t1 <span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token punctuation">,</span>score <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'02'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t2<span class="token keyword">where</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>t2<span class="token punctuation">.</span>SId</code></pre><p>1.2 查询存在” 01 “课程但可能不存在” 02 “课程的情况(不存在时显示为 null )</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token punctuation">,</span>score <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'01'</span><span class="token punctuation">)</span><span class="token keyword">as</span> t1 <span class="token keyword">left</span> <span class="token keyword">join</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token punctuation">,</span>score <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'02'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t2<span class="token keyword">on</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>t2<span class="token punctuation">.</span>SId</code></pre><p>1.3 查询不存在” 01 “课程但存在” 02 “课程的情况</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> sc<span class="token keyword">where</span> sc<span class="token punctuation">.</span>SId <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> SId <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'01'</span><span class="token punctuation">)</span><span class="token operator">and</span>  sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'02'</span></code></pre><ol start="2"><li>查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span>avgscore<span class="token keyword">from</span> student <span class="token keyword">inner</span> <span class="token keyword">JOIN</span><span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId <span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> avgscore<span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId<span class="token keyword">HAVING</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token keyword">as</span> t1 <span class="token keyword">on</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>t1<span class="token punctuation">.</span>SId </code></pre><ol start="3"><li>查询在 SC 表存在成绩的学生信息</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> student <span class="token punctuation">,</span>sc<span class="token keyword">where</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId</code></pre><p>4.查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩(没成绩的显示为null)  </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>t1<span class="token punctuation">.</span>sumscore<span class="token punctuation">,</span>t1<span class="token punctuation">.</span>coursecount<span class="token keyword">from</span> student <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> SC<span class="token punctuation">.</span>SId<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> sumscore <span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token keyword">as</span> coursecount<span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token keyword">where</span> student<span class="token punctuation">.</span>SId <span class="token operator">=</span>t1<span class="token punctuation">.</span>SId</code></pre><p>4.1 查有成绩的学生信息</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student<span class="token keyword">where</span> <span class="token keyword">EXISTS</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId<span class="token punctuation">)</span></code></pre><ol start="5"><li><p>查询「李」姓老师的数量 </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">from</span> teacher<span class="token keyword">where</span> teacher<span class="token punctuation">.</span>Tname <span class="token operator">like</span> '李<span class="token operator">%</span></code></pre></li><li><p>查询学过「张三」老师授课的同学的信息 </p></li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> teacher  <span class="token punctuation">,</span>course  <span class="token punctuation">,</span>student<span class="token punctuation">,</span>sc<span class="token keyword">where</span> teacher<span class="token punctuation">.</span>Tname<span class="token operator">=</span><span class="token string">'张三'</span><span class="token operator">and</span>   teacher<span class="token punctuation">.</span>TId<span class="token operator">=</span>course<span class="token punctuation">.</span>TId<span class="token operator">and</span>   course<span class="token punctuation">.</span>CId<span class="token operator">=</span>sc<span class="token punctuation">.</span>CId<span class="token operator">and</span>   sc<span class="token punctuation">.</span>SId<span class="token operator">=</span>student<span class="token punctuation">.</span>SId</code></pre><ol start="7"><li>查询没有学全所有课程的同学的信息</li></ol><ul><li>解法1</li></ul><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> sc <span class="token punctuation">,</span>student<span class="token keyword">where</span> sc<span class="token punctuation">.</span>SId<span class="token operator">=</span>student<span class="token punctuation">.</span>SId<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId<span class="token keyword">Having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> course<span class="token punctuation">)</span></code></pre><p><strong>但这种解法得出来的结果不包括什么课都没选的同学。</strong></p><ul><li>解法2</li></ul><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>course<span class="token punctuation">.</span>CId<span class="token keyword">from</span> student<span class="token punctuation">,</span>course <span class="token punctuation">)</span> <span class="token keyword">as</span> t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>CId <span class="token keyword">from</span> sc<span class="token punctuation">)</span><span class="token keyword">as</span> t2 <span class="token keyword">on</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>t2<span class="token punctuation">.</span>SId <span class="token operator">and</span> t1<span class="token punctuation">.</span>CId<span class="token operator">=</span>t2<span class="token punctuation">.</span>CId<span class="token punctuation">,</span>student<span class="token keyword">where</span> t2<span class="token punctuation">.</span>SId <span class="token operator">is</span> <span class="token boolean">null</span><span class="token operator">and</span>   t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>student<span class="token punctuation">.</span>SId</code></pre><p><strong>利用笛卡尔积可以把什么课都没选的同学查询出来</strong></p><ol start="8"><li>查询至少有一门课与学号为” 01 “的同学所学相同的同学的信息</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span>  sc <span class="token punctuation">,</span>student<span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> CId <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>SId<span class="token operator">=</span><span class="token string">'01'</span><span class="token punctuation">)</span><span class="token operator">and</span>   sc<span class="token punctuation">.</span>SId<span class="token operator">=</span>student<span class="token punctuation">.</span>SId</code></pre><p>9.查询和” 01 “号的同学学习的课程完全相同的其他同学的信息 </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>t<span class="token punctuation">.</span>CId<span class="token keyword">from</span> student <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId <span class="token keyword">from</span> sc <span class="token keyword">where</span> sc<span class="token punctuation">.</span>SId<span class="token operator">=</span><span class="token string">'01'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t<span class="token punctuation">)</span> <span class="token keyword">as</span> t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sc <span class="token keyword">on</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId <span class="token operator">and</span> t1<span class="token punctuation">.</span>CId<span class="token operator">=</span>sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span>student<span class="token keyword">where</span> sc<span class="token punctuation">.</span>SId <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span>   t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>student<span class="token punctuation">.</span>SId</code></pre><p>10.查询没学过”张三”老师讲授的任一门课程的学生姓名 </p><pre><code>select *from student where student.SId not in (select student.SIdfrom student left join sc on student.SId=sc.SId where EXISTS (select *from teacher ,coursewhere teacher.Tname=&#39;张三&#39;and   teacher.TId=course.TIdand     course.CId=sc.CId))</code></pre><p>11.查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩 </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">from</span> student <span class="token punctuation">,</span>sc<span class="token keyword">where</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId<span class="token operator">and</span>   sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">60</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId<span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">2</span></code></pre><ol start="12"><li>检索” 01 “课程分数小于 60，按分数降序排列的学生信息</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> student<span class="token punctuation">,</span>sc<span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId <span class="token operator">=</span><span class="token string">'01'</span><span class="token operator">and</span>   sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">60</span><span class="token operator">and</span>   student<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId</code></pre><ol start="13"><li>按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">,</span>t1<span class="token punctuation">.</span>avgscore <span class="token keyword">from</span>  sc <span class="token keyword">left</span> <span class="token keyword">join</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> avgscore <span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">)</span> <span class="token keyword">as</span> t1 <span class="token keyword">on</span> sc<span class="token punctuation">.</span>SId <span class="token operator">=</span>t1<span class="token punctuation">.</span>SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t1<span class="token punctuation">.</span>avgscore <span class="token keyword">DESC</span></code></pre><ol start="14"><li>查询各科成绩最高分、最低分和平均分：<br>以如下形式显示：课程 ID，课程 name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率<br>及格为&gt;=60，中等为：70-80，优良为：80-90，优秀为：&gt;=90<br>要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId <span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> 最高分<span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> 最低分<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> 平均分<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> 选修人数<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> 及格率<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">70</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">80</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> 中等率<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">80</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">90</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">80</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> 优良率<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">90</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> 优秀率 <span class="token keyword">from</span> sc<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">DESC</span><span class="token punctuation">,</span>sc<span class="token punctuation">.</span>CId <span class="token keyword">asc</span></code></pre><ol start="15"><li>按各科成绩进行排序，并显示排名， Score 重复时保留名次空缺</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId <span class="token punctuation">,</span><span class="token variable">@curRank</span>:<span class="token operator">=</span><span class="token variable">@curRank</span><span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">as</span> rank<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score<span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@curRank</span>:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t <span class="token punctuation">,</span>sc<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>score <span class="token keyword">desc</span></code></pre><p>15.1 按各科成绩进行排序，并显示排名， Score 重复时合并名次</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId <span class="token punctuation">,</span> <span class="token keyword">case</span> <span class="token keyword">when</span> <span class="token variable">@fontscore</span><span class="token operator">=</span>score <span class="token keyword">then</span> <span class="token variable">@curRank</span> <span class="token keyword">when</span> <span class="token variable">@fontscore</span>:<span class="token operator">=</span>score <span class="token keyword">then</span> <span class="token variable">@curRank</span>:<span class="token operator">=</span><span class="token variable">@curRank</span><span class="token operator">+</span><span class="token number">1</span>  <span class="token keyword">end</span> <span class="token keyword">as</span> rank<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score<span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@curRank</span>:<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">,</span><span class="token variable">@fontage</span>:<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t <span class="token punctuation">,</span>sc<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>score <span class="token keyword">desc</span></code></pre><ol start="16"><li>查询学生的总成绩，并进行排名，总分重复时保留名次空缺</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token variable">@currank</span>:<span class="token operator">=</span> <span class="token variable">@currank</span><span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">as</span> rank<span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token keyword">from</span> sc<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@currank</span>:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t</code></pre><p>16.1 查询学生的总成绩，并进行排名，总分重复时不保留名次空缺</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">case</span> <span class="token keyword">when</span> <span class="token variable">@fontscore</span><span class="token operator">=</span>t1<span class="token punctuation">.</span>sumscore <span class="token keyword">then</span> <span class="token variable">@currank</span>  <span class="token keyword">when</span> <span class="token variable">@fontscore</span>:<span class="token operator">=</span>t1<span class="token punctuation">.</span>sumscore  <span class="token keyword">then</span> <span class="token variable">@currank</span>:<span class="token operator">=</span><span class="token variable">@currank</span><span class="token operator">+</span><span class="token number">1</span>  <span class="token keyword">end</span> <span class="token keyword">as</span> rank<span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> sumscore<span class="token keyword">from</span> sc<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@currank</span>:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token variable">@fontscore</span>:<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t</code></pre><ol start="17"><li>统计各科成绩各分数段人数：课程编号，课程名称，[100-85]，[85-70]，[70-60]，[60-0] 及所占百分比</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> course<span class="token punctuation">.</span>CId<span class="token punctuation">,</span>course<span class="token punctuation">.</span>Cname<span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> course <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span>CONCAT<span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">85</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;=</span><span class="token number">100</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'%'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'[85-100]'</span><span class="token punctuation">,</span>CONCAT<span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">70</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">85</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'%'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'[70-85)'</span><span class="token punctuation">,</span>CONCAT<span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">60</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">70</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'%'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'[60-70)'</span><span class="token punctuation">,</span>CONCAT<span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'%'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'[0-60)'</span><span class="token keyword">from</span> sc<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token keyword">as</span> t1 <span class="token keyword">on</span> course<span class="token punctuation">.</span>CId<span class="token operator">=</span>t1<span class="token punctuation">.</span>CId</code></pre><ol start="18"><li>查询各科成绩前三名的记录</li></ol><p>思路：前三名转化为若大于此成绩的数量少于3即为前三名。</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> sc  <span class="token keyword">where</span>  <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">as</span> <span class="token number">a</span> <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId <span class="token operator">=</span><span class="token number">a</span><span class="token punctuation">.</span>CId <span class="token operator">and</span>  sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span><span class="token number">a</span><span class="token punctuation">.</span>score <span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> CId <span class="token keyword">asc</span><span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score <span class="token keyword">desc</span></code></pre><ol start="19"><li>查询每门课程被选修的学生数 </li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId</code></pre><ol start="20"><li>查询出只选修两门课程的学生学号和姓名</li></ol><pre><code>select student.SId,student.Snamefrom sc,studentwhere student.SId=sc.SId  GROUP BY sc.SIdHAVING count(*)=2</code></pre><p>21.查询男生、女生人数</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>Ssex <span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> 人数<span class="token keyword">from</span> student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> student<span class="token punctuation">.</span>Ssex</code></pre><ol start="22"><li>查询名字中含有「风」字的学生信息</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">where</span> student<span class="token punctuation">.</span>Sname <span class="token operator">like</span> <span class="token string">'%风%'</span></code></pre><p>23.查询同名同性学生名单，并统计同名人数</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span><span class="token keyword">select</span> Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>同名人数 <span class="token keyword">from</span> Student <span class="token keyword">group</span> <span class="token keyword">by</span> Sname<span class="token punctuation">,</span>Ssex<span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token keyword">on</span> student<span class="token punctuation">.</span>Sname <span class="token operator">=</span>t1<span class="token punctuation">.</span>Sname <span class="token operator">and</span> student<span class="token punctuation">.</span>Ssex<span class="token operator">=</span>t1<span class="token punctuation">.</span>Ssex<span class="token keyword">where</span> t1<span class="token punctuation">.</span>同名人数<span class="token operator">></span><span class="token number">1</span></code></pre><p>24.查询 1990 年出生的学生名单</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student<span class="token keyword">where</span> YEAR<span class="token punctuation">(</span>student<span class="token punctuation">.</span>Sage<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1990</span></code></pre><p>25.查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token keyword">desc</span> <span class="token punctuation">,</span>sc<span class="token punctuation">.</span>CId <span class="token keyword">asc</span></code></pre><p>26.查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩 </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>t1<span class="token punctuation">.</span>avgscore<span class="token keyword">from</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId <span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> avgscore <span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId <span class="token keyword">HAVING</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">85</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t1 <span class="token keyword">on</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>t1<span class="token punctuation">.</span>SId</code></pre><ol start="27"><li>查询课程名称为「数学」，且分数低于 60 的学生姓名和分数</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>Sname <span class="token punctuation">,</span>t1<span class="token punctuation">.</span>score<span class="token keyword">from</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span>  <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score <span class="token keyword">from</span> sc<span class="token punctuation">,</span>course<span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span>course<span class="token punctuation">.</span>CId<span class="token operator">and</span>   course<span class="token punctuation">.</span>Cname<span class="token operator">=</span><span class="token string">'数学'</span><span class="token operator">and</span>   sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token keyword">as</span> t1 <span class="token keyword">on</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>t1<span class="token punctuation">.</span>SId </code></pre><ol start="28"><li>查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）</li></ol><pre><code>select student.SId,sc.CId,sc.score from Student  left join sc  on student.SId=sc.SId </code></pre><ol start="29"><li>查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>course<span class="token punctuation">.</span>Cname<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score<span class="token keyword">from</span> student <span class="token punctuation">,</span> sc  <span class="token punctuation">,</span>course<span class="token keyword">where</span> sc<span class="token punctuation">.</span>score<span class="token operator">>=</span><span class="token number">70</span><span class="token operator">and</span>  student<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId<span class="token operator">and</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span>course<span class="token punctuation">.</span>CId</code></pre><p>30.查询存在不及格的课程</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> sc<span class="token punctuation">.</span>CId<span class="token keyword">from</span> sc<span class="token keyword">where</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span><span class="token number">60</span></code></pre><p>31.查询课程编号为 01 且课程成绩在 80 分以上的学生的学号和姓名</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>student<span class="token punctuation">.</span>Sname<span class="token keyword">from</span> student <span class="token punctuation">,</span>sc<span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">'01'</span><span class="token operator">and</span>  student<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId<span class="token operator">and</span>  sc<span class="token punctuation">.</span>score<span class="token operator">></span><span class="token number">80</span></code></pre><ol start="32"><li>求每门课程的学生人数 </li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> 学生人数<span class="token keyword">from</span> sc<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId</code></pre><ol start="33"><li>成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</li></ol><pre><code>select student.*,sc.scorefrom student ,course ,teacher ,scwhere course.CId=sc.CIdand course.TId=teacher.TIdand teacher.Tname=&#39;张三&#39;and student.SId =sc.SIdLIMIT 1</code></pre><ol start="34"><li>成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span>score<span class="token keyword">from</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">,</span> <span class="token keyword">case</span> <span class="token keyword">when</span> <span class="token variable">@fontage</span><span class="token operator">=</span>sc<span class="token punctuation">.</span>score <span class="token keyword">then</span> <span class="token variable">@rank</span> <span class="token keyword">when</span> <span class="token variable">@fontage</span>:<span class="token operator">=</span>sc<span class="token punctuation">.</span>score <span class="token keyword">then</span> <span class="token variable">@rank</span>:<span class="token operator">=</span><span class="token variable">@rank</span><span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">end</span>  <span class="token keyword">as</span> rank<span class="token keyword">from</span> course <span class="token punctuation">,</span>teacher <span class="token punctuation">,</span>sc<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@fontage</span>:<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token variable">@rank</span>:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t<span class="token keyword">where</span> course<span class="token punctuation">.</span>CId<span class="token operator">=</span>sc<span class="token punctuation">.</span>CId<span class="token operator">and</span> course<span class="token punctuation">.</span>TId<span class="token operator">=</span>teacher<span class="token punctuation">.</span>TId<span class="token operator">and</span> teacher<span class="token punctuation">.</span>Tname<span class="token operator">=</span><span class="token string">'张三'</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>score <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t1 <span class="token keyword">on</span> student<span class="token punctuation">.</span>SId<span class="token operator">=</span>t1<span class="token punctuation">.</span>SId<span class="token keyword">where</span> t1<span class="token punctuation">.</span>rank<span class="token operator">=</span><span class="token number">1</span></code></pre><ol start="35"><li>查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> sc <span class="token keyword">as</span> t1<span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc <span class="token keyword">as</span> t2 <span class="token keyword">where</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>t2<span class="token punctuation">.</span>SId <span class="token operator">and</span> t1<span class="token punctuation">.</span>CId<span class="token operator">!=</span>t2<span class="token punctuation">.</span>CId <span class="token operator">and</span> t1<span class="token punctuation">.</span>score <span class="token operator">=</span>t2<span class="token punctuation">.</span>score <span class="token punctuation">)</span></code></pre><p>36.查询每门功成绩最好的前两名</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> sc <span class="token keyword">as</span> t1<span class="token keyword">where</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">as</span> t2 <span class="token keyword">where</span> t1<span class="token punctuation">.</span>CId<span class="token operator">=</span>t2<span class="token punctuation">.</span>CId <span class="token operator">and</span> t2<span class="token punctuation">.</span>score <span class="token operator">></span>t1<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">2</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t1<span class="token punctuation">.</span>CId</code></pre><p>37.统计每门课程的学生选修人数（超过 5 人的课程才统计）</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> sc<span class="token punctuation">.</span>CId <span class="token keyword">as</span> 课程编号<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> 选修人数<span class="token keyword">from</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId<span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">5</span></code></pre><p>38.检索至少选修两门课程的学生学号 </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> t1<span class="token punctuation">.</span>SId<span class="token keyword">from</span> sc <span class="token keyword">as</span> t1 <span class="token keyword">where</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span> <span class="token punctuation">)</span><span class="token keyword">from</span> sc <span class="token keyword">where</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>sc<span class="token punctuation">.</span>SId<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">3</span></code></pre><ol start="39"><li>查询选修了全部课程的学生信息</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">from</span> sc <span class="token punctuation">,</span>student <span class="token keyword">where</span> sc<span class="token punctuation">.</span>SId<span class="token operator">=</span>student<span class="token punctuation">.</span>SId<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId<span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> course <span class="token punctuation">)</span></code></pre><p>40.查询各学生的年龄，只按年份来算 </p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> student<span class="token punctuation">.</span>SId <span class="token keyword">as</span> 学生编号<span class="token punctuation">,</span>student<span class="token punctuation">.</span>Sname  <span class="token keyword">as</span>  学生姓名<span class="token punctuation">,</span>TIMESTAMPDIFF<span class="token punctuation">(</span>YEAR<span class="token punctuation">,</span>student<span class="token punctuation">.</span>Sage<span class="token punctuation">,</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> 学生年龄<span class="token keyword">from</span> student</code></pre><ol start="41"><li>按照出生日期来算，当前月日 &lt; 出生年月的月日则，年龄减一</li></ol><pre class=" language-Sql"><code class="language-Sql">select student.SId as 学生编号,student.Sname  as  学生姓名,TIMESTAMPDIFF(YEAR,student.Sage,CURDATE()) as 学生年龄from student</code></pre><p>42.查询本周过生日的学生</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">where</span> YEARWEEK<span class="token punctuation">(</span>student<span class="token punctuation">.</span>Sage<span class="token punctuation">)</span><span class="token operator">=</span>YEARWEEK<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><ol start="43"><li>查询下周过生日的学生</li></ol><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">where</span> YEARWEEK<span class="token punctuation">(</span>student<span class="token punctuation">.</span>Sage<span class="token punctuation">)</span><span class="token operator">=</span>CONCAT<span class="token punctuation">(</span>YEAR<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>week<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre><p>44.查询本月过生日的学生</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">where</span> EXTRACT<span class="token punctuation">(</span>YEAR_MONTH <span class="token keyword">FROM</span> student<span class="token punctuation">.</span>Sage<span class="token punctuation">)</span><span class="token operator">=</span>EXTRACT<span class="token punctuation">(</span>YEAR_MONTH <span class="token keyword">FROM</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>45.查询下月过生日的学生</p><pre class=" language-mysql"><code class="language-mysql">select *from student where EXTRACT(YEAR_MONTH FROM student.Sage)=EXTRACT(YEAR_MONTH FROM DATE_ADD(CURDATE(),INTERVAL 1 MONTH))</code></pre>]]></content>
      
      
      <categories>
          
          <category> 开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据处理 </tag>
            
            <tag> SQL学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Python对滴滴出行路程和时间与费用关系的数据分析与预测</title>
      <link href="/posts/d57ef69.html"/>
      <url>/posts/d57ef69.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-课程设计目的"><a href="#1-课程设计目的" class="headerlink" title="1.课程设计目的"></a>1.课程设计目的</h2><p>通过“盖亚数据开放计划”获取到2017年5月1日-10月31日海口市每天的订单数据，包含订单的起终点经纬度以及订单类型、出行品类、乘车人数的订单属性数据，</p><p>借此希望通过对获取的数据通过编程的方式验证自己的所学：</p><ol><li>Python基础使用</li><li>Numpy和Pandas科学计算库的使用</li><li>Matplotlib可视化库的使用</li><li>对大型数据集的处理</li><li>统计学相关应用</li><li>简单机器学习应用</li></ol><h2 id="2-课程设计题目描述和要求"><a href="#2-课程设计题目描述和要求" class="headerlink" title="2. 课程设计题目描述和要求"></a><strong>2. 课程设计题目描述和要求</strong></h2><h3 id="2-1-课程设计题目描述"><a href="#2-1-课程设计题目描述" class="headerlink" title="2.1 课程设计题目描述"></a><strong>2.1 课程设计题目描述</strong></h3><p>基于Python在对1GB的txt文件格式的滴滴出行订单数据的读取和清洗后，通过多重线性回归分析路程和时间对于费用的影响，并将其利用散点图进行可视化。</p><h3 id="2-2-课程设计要求"><a href="#2-2-课程设计要求" class="headerlink" title="2.2 课程设计要求"></a><strong>2.2 课程设计要求</strong></h3><p>  （1）在内存有限的情况下利用Dask读取1GB的txt文件。</p><p>  （2）由于Dask.Dataframe局限于计算和处理，需要随机抽样4000份样本数据，并另存为csv文件</p><p>  （3）利用pandas读取样本数据，并对数据进行清洗和处理，处理掉空值和缺失值的异常情况。</p><p>  （4）对于路程和时间对费用计算的影响，即双自变量对单因变量的影响，通过初步散点图以及相关系数确定两者单独影响均为线性关系。</p><p>  （5）利用sklearn库，获取简单的机器学习模型即多重线性回归模型，提取训练集和测试集，并加以练习。</p><p>  （6）通过matplotlib库，通过可视化的方式更为直观展示路程和时间对费用计算的影响。</p><h2 id="3-课程设计报告内容"><a href="#3-课程设计报告内容" class="headerlink" title="3. 课程设计报告内容"></a><strong>3.</strong> <strong>课程设计报告内容</strong></h2><h3 id="3-1-数据准备"><a href="#3-1-数据准备" class="headerlink" title="3.1 数据准备"></a><strong>3.1</strong> <strong>数据准备</strong></h3><p> 1 GB txt格式文件</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/alexdanerze/photo/raw/master/20200623215527.jpg" alt="img"><br> 数据说明</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/alexdanerze/photo/raw/master/20200623215122.jpg" alt="img"></p><h3 id="3-2-数据读取"><a href="#3-2-数据读取" class="headerlink" title="3.2 数据读取"></a><strong>3.2</strong> <strong>数据读取</strong></h3><p>由于pandas在本地读取数据得效率不高（内存占用过大，以及转换比例不高），所以转用dask去读取数据，通过dask.Dataframe.read_table得到数据，并通过rename整理列名，方便多个数据帧进行链接，由于多次实验，dask数据帧不支持绘图，便抽取一定的样本去转化为pandas数据帧。</p><p><strong>Sort_data.py</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> glob<span class="token keyword">import</span> dask<span class="token punctuation">.</span>dataframe <span class="token keyword">as</span> dd<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sb<span class="token keyword">from</span> bokeh<span class="token punctuation">.</span>io <span class="token keyword">import</span> output_notebook<span class="token punctuation">,</span>show<span class="token keyword">from</span> bokeh<span class="token punctuation">.</span>plotting <span class="token keyword">import</span> figure<span class="token comment" spellcheck="true">#  读取相应的数据</span>df <span class="token operator">=</span> dict<span class="token punctuation">(</span><span class="token punctuation">)</span>sb<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">'darkgrid'</span><span class="token punctuation">)</span>file_names <span class="token operator">=</span> glob<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">"./Data/*.txt"</span><span class="token punctuation">)</span>df_total <span class="token operator">=</span> dd<span class="token punctuation">.</span>read_table<span class="token punctuation">(</span>file_names<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'dwv_order_make_haikou_1.pre_total_fee'</span><span class="token punctuation">:</span> <span class="token string">'float64'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>df_total<span class="token punctuation">.</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'order_id'</span><span class="token punctuation">,</span><span class="token string">'product_id'</span><span class="token punctuation">,</span><span class="token string">'city_id'</span><span class="token punctuation">,</span><span class="token string">'district'</span><span class="token punctuation">,</span><span class="token string">'county'</span><span class="token punctuation">,</span><span class="token string">'type'</span><span class="token punctuation">,</span><span class="token string">'combo_type'</span><span class="token punctuation">,</span><span class="token string">'traffic_type'</span><span class="token punctuation">,</span>                     <span class="token string">'passenger_count'</span><span class="token punctuation">,</span><span class="token string">'driver_product_id'</span><span class="token punctuation">,</span><span class="token string">'start_dest_distance'</span><span class="token punctuation">,</span><span class="token string">'arrive_time'</span><span class="token punctuation">,</span><span class="token string">'departure_time'</span><span class="token punctuation">,</span>                     <span class="token string">'pre_total_fee'</span><span class="token punctuation">,</span><span class="token string">'normal_time'</span><span class="token punctuation">,</span><span class="token string">'product_1level'</span><span class="token punctuation">,</span><span class="token string">'dest_lng'</span><span class="token punctuation">,</span><span class="token string">'dest_lat'</span><span class="token punctuation">,</span><span class="token string">'starting_lng'</span><span class="token punctuation">,</span><span class="token string">'starting_lat'</span><span class="token punctuation">,</span>                     <span class="token string">'year'</span><span class="token punctuation">,</span><span class="token string">'month'</span><span class="token punctuation">,</span><span class="token string">'day'</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"># 合成为一个数据集</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    df_part <span class="token operator">=</span> dd<span class="token punctuation">.</span>read_table<span class="token punctuation">(</span>file_names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'dwv_order_make_haikou_%s.pre_total_fee'</span><span class="token operator">%</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token string">'float64'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    df_part<span class="token punctuation">.</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'order_id'</span><span class="token punctuation">,</span><span class="token string">'product_id'</span><span class="token punctuation">,</span><span class="token string">'city_id'</span><span class="token punctuation">,</span><span class="token string">'district'</span><span class="token punctuation">,</span><span class="token string">'county'</span><span class="token punctuation">,</span><span class="token string">'type'</span><span class="token punctuation">,</span><span class="token string">'combo_type'</span><span class="token punctuation">,</span><span class="token string">'traffic_type'</span><span class="token punctuation">,</span>                     <span class="token string">'passenger_count'</span><span class="token punctuation">,</span><span class="token string">'driver_product_id'</span><span class="token punctuation">,</span><span class="token string">'start_dest_distance'</span><span class="token punctuation">,</span><span class="token string">'arrive_time'</span><span class="token punctuation">,</span><span class="token string">'departure_time'</span><span class="token punctuation">,</span>                     <span class="token string">'pre_total_fee'</span><span class="token punctuation">,</span><span class="token string">'normal_time'</span><span class="token punctuation">,</span><span class="token string">'product_1level'</span><span class="token punctuation">,</span><span class="token string">'dest_lng'</span><span class="token punctuation">,</span><span class="token string">'dest_lat'</span><span class="token punctuation">,</span><span class="token string">'starting_lng'</span><span class="token punctuation">,</span><span class="token string">'starting_lat'</span><span class="token punctuation">,</span>                     <span class="token string">'year'</span><span class="token punctuation">,</span><span class="token string">'month'</span><span class="token punctuation">,</span><span class="token string">'day'</span><span class="token punctuation">]</span>    df_total<span class="token operator">=</span> dd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df_total<span class="token punctuation">,</span>df_part<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 抽取其中约2000份样本 作为训练集和数据集</span>df_test<span class="token operator">=</span>dd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>df_total<span class="token punctuation">,</span>frac<span class="token operator">=</span><span class="token number">0.00046</span><span class="token punctuation">)</span>df_test<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'Test-*.csv'</span><span class="token punctuation">,</span>mode<span class="token operator">=</span><span class="token string">'wr'</span><span class="token punctuation">)</span></code></pre><h3 id="3-3-数据清理"><a href="#3-3-数据清理" class="headerlink" title="3.3 数据清理"></a><strong>3.3</strong> <strong>数据清理</strong></h3><h4 id="3-3-1-文件整理"><a href="#3-3-1-文件整理" class="headerlink" title="3.3.1 文件整理"></a>3.3.1 文件整理</h4><p> 由于利用dask.to_csv转化csv文件时存在分块读写的问题，需要将文件整合为一个csv文件，**</p><p><strong>get_data.py</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> osFolder_Path <span class="token operator">=</span> r<span class="token string">'H:\Project\Python\DidiData\Test'</span>  <span class="token comment" spellcheck="true"># 要拼接的文件夹及其完整路径，注意不要包含中文</span>SaveFile_Path <span class="token operator">=</span> r<span class="token string">'H:\Project\Python\DidiData\Test'</span>  <span class="token comment" spellcheck="true"># 拼接后要保存的文件路径</span>SaveFile_Name <span class="token operator">=</span> r<span class="token string">'Test.csv'</span>  <span class="token comment" spellcheck="true"># 合并后要保存的文件名</span><span class="token comment" spellcheck="true"># 修改当前工作目录</span>os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span>Folder_Path<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 将该文件夹下的所有文件名存入一个列表</span>file_list <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 读取第一个CSV文件并包含表头</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>Folder_Path <span class="token operator">+</span> <span class="token string">'\\'</span> <span class="token operator">+</span> file_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 编码默认UTF-8，若乱码自行更改</span><span class="token comment" spellcheck="true"># 将读取的第一个CSV文件写入合并后的文件保存</span>df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span>SaveFile_Path <span class="token operator">+</span> <span class="token string">'\\'</span> <span class="token operator">+</span> SaveFile_Name<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf_8_sig"</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 循环遍历列表中各个CSV文件名，并追加到合并后的文件</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>file_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>Folder_Path <span class="token operator">+</span> <span class="token string">'\\'</span> <span class="token operator">+</span> file_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span>SaveFile_Path <span class="token operator">+</span> <span class="token string">'\\'</span> <span class="token operator">+</span> SaveFile_Name<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf_8_sig"</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'a+'</span><span class="token punctuation">)</span></code></pre><h4 id="3-3-2-数据检查与清理"><a href="#3-3-2-数据检查与清理" class="headerlink" title="3.3.2 数据检查与清理"></a>3.3.2 数据检查与清理</h4><p> 数据存在着空值和缺失值，由于样本多，选择将含有缺失值和空值的行去掉。通过isnull（）和isfull（）函数找出相应的行，并利用dropna（）去掉，得到良好数据。**</p><p>  <strong>clean_data.py</strong></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token comment" spellcheck="true"># 由于数据样本大可以直姐清除空值</span><span class="token comment" spellcheck="true"># 查找数据为空值</span><span class="token keyword">def</span> <span class="token function">check_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>any<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> data<span class="token punctuation">.</span>isna<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"存在空值"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token keyword">return</span> <span class="token boolean">False</span><span class="token keyword">def</span> <span class="token function">clean_data</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> columns_name<span class="token punctuation">)</span><span class="token punctuation">:</span>    find_null <span class="token operator">=</span> pd<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span>data<span class="token punctuation">[</span>columns_name<span class="token punctuation">]</span><span class="token punctuation">)</span>    data_null <span class="token operator">=</span> data<span class="token punctuation">[</span>find_null <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data_null<span class="token punctuation">)</span>    data<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> subset<span class="token operator">=</span><span class="token punctuation">[</span>columns_name<span class="token punctuation">]</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token number">3.4</span> 数据分析与预测<span class="token number">3.4</span><span class="token punctuation">.</span><span class="token number">1</span>数据初步观察通过seaborn库绘制散点图，使得更为直观的的观察数据，以及利用相关系数查看变量之间的关系，得出为线性关系。<span class="token comment" spellcheck="true"># 设置自变量和因变量</span>X <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>time_and_fee<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'normal_time'</span><span class="token punctuation">,</span> <span class="token string">"start_dest_distance"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>Y <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>time_and_fee<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'pre_total_fee'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 绘制初步散点图</span>sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>data<span class="token operator">=</span>time_and_fee<span class="token punctuation">,</span> x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'normal_time'</span><span class="token punctuation">,</span> <span class="token string">'start_dest_distance'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y_vars<span class="token operator">=</span><span class="token string">'pre_total_fee'</span><span class="token punctuation">,</span>             height<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">'reg'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="3-4-数据分析与预测"><a href="#3-4-数据分析与预测" class="headerlink" title="3.4 数据分析与预测"></a>3.4 数据分析与预测</h3><h4 id="3-4-1-数据初步观察"><a href="#3-4-1-数据初步观察" class="headerlink" title="3.4.1 数据初步观察"></a>3.4.1 数据初步观察</h4><p> 通过seaborn库绘制散点图，使得更为直观的的观察数据，以及利用相关系数查看变量之间的关系，得出为线性关系。</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 设置自变量和因变量</span>X <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>time_and_fee<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'normal_time'</span><span class="token punctuation">,</span> <span class="token string">"start_dest_distance"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>Y <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>time_and_fee<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'pre_total_fee'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 绘制初步散点图</span>sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>data<span class="token operator">=</span>time_and_fee<span class="token punctuation">,</span> x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'normal_time'</span><span class="token punctuation">,</span> <span class="token string">'start_dest_distance'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y_vars<span class="token operator">=</span><span class="token string">'pre_total_fee'</span><span class="token punctuation">,</span>             height<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">'reg'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h4 id="3-4-2-代入模型"><a href="#3-4-2-代入模型" class="headerlink" title="3.4.2 代入模型"></a>3.4.2 代入模型</h4><p> 由于路程和时间对费用的影响可以看作是多自变量对因变量的影响，并且为线性关系，所以选择多重线性回归模型。并利用sklearn库的model_selection.train_test_split（）区分出训练集和测试集，并将训练集带入模型当中，得出所需要的截距和斜率，同时函数关系式也可以得出。</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 将原始数据通过随机方式分割为训练集和测试集，其中测试集占比为40%</span>X_train<span class="token punctuation">,</span> X_test<span class="token punctuation">,</span> y_train<span class="token punctuation">,</span> y_test <span class="token operator">=</span> model_selection<span class="token punctuation">.</span>train_test_split<span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> test_size<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">,</span> random_state<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 将训练集代入到线性回归模型中</span>clf <span class="token operator">=</span> linear_model<span class="token punctuation">.</span>LinearRegression<span class="token punctuation">(</span><span class="token punctuation">)</span>model <span class="token operator">=</span> clf<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X_train<span class="token punctuation">,</span> y_train<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 训练后模型截距</span>a <span class="token operator">=</span> clf<span class="token punctuation">.</span>intercept_<span class="token comment" spellcheck="true"># 训练后模型权重（特征个数无变化）_</span>b <span class="token operator">=</span> clf<span class="token punctuation">.</span>coef_<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"拟合参数:截距"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">",回归系数："</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 显示线性方程，并限制参数的小数位为两位</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"最佳拟合线: Y = "</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>round<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"+"</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>round<span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"* X1 + "</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>round<span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"* X2"</span><span class="token punctuation">)</span></code></pre><h4 id="3-4-3-数据预测与验证"><a href="#3-4-3-数据预测与验证" class="headerlink" title="3.4.3 数据预测与验证"></a>3.4.3 数据预测与验证</h4><p> 通过带入测试集数据，得出预测数据，并与实际数据进行对比，再次利用散点图更为直观地观察数据，利用均方差和拟合优度更进一步验证数据，避免出现假模型地存在**</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 预测</span>y_pred <span class="token operator">=</span> clf<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>X_test<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"展示预测数据："</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>y_pred<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>y_pred<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y_pred<span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"predict data"</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>y_test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y_test<span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"test data"</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 显示预测值与测试值曲线</span><span class="token comment" spellcheck="true"># 模型评估</span>sum_mean <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>y_pred<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    sum_mean <span class="token operator">+=</span> <span class="token punctuation">(</span>y_pred<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> y_test<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span>sum_erro <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>sum_mean <span class="token operator">/</span> <span class="token number">1327</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 这个10是你测试级的数量</span><span class="token comment" spellcheck="true"># calculate RMSE by hand</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"RMSE by hand:"</span><span class="token punctuation">,</span> sum_erro<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># The mean squared error</span><span class="token comment" spellcheck="true"># 均方差</span><span class="token comment" spellcheck="true"># 查看残差平方的均值(mean square error,MSE)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Mean squared error: %.2f"</span>      <span class="token operator">%</span> mean_squared_error<span class="token punctuation">(</span>y_test<span class="token punctuation">,</span> y_pred<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># Explained variance score: 1 is perfect prediction</span><span class="token comment" spellcheck="true">#  R2 决定系数（拟合优度）</span><span class="token comment" spellcheck="true"># 模型越好：r2→1</span><span class="token comment" spellcheck="true"># 模型越差：r2→0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Variance score: %.2f'</span> <span class="token operator">%</span> r2_score<span class="token punctuation">(</span>y_test<span class="token punctuation">,</span> y_pred<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><strong>4.</strong>   <strong>结论</strong></p><p>展示初步数据的散点图</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/alexdanerze/photo/raw/master/20200623215150.jpg" alt="img"> </p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/alexdanerze/photo/raw/master/20200623215312.jpg" alt="img"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://gitee.com/alexdanerze/photo/raw/master/20200623215320.png" alt="img"></p><p><strong>参考书目</strong></p><p>［1］  Wes McKinney,利用Python进行数据分析,机械工业出版社 ,2013-11-18*</p><p>［2］  Michael Bowles，Python机器学习，人民邮电出版社，2016-12</p><p>［3］  良均 / 王路 / 谭立云 / 苏剑林 ，Python数据分析与挖掘实战，机械工业出版社，2016-1b</p><p>［4］  内利，Python数据分析实战，人民邮电出版社，2016-8-1</p><p>［5］  周志华，机器学习，清华大学出版社，2016-1-1 </p><p>［6］  李航，统计学习方法，清华大学出版社，2012-3</p><p>［7］  克·马瑟斯，Python编程，人民邮电出版社，2016-7-1</p><p>［8］  克里斯·阿尔本（Chris Albon） ，Python机器学习手册：从数据预处理到深度学习，电子工业出版社，2019-7</p><p>［9］  伊凡·伊德里斯（Ivan Idris） ，Python数据分析实战，机械工业出版社，2017-8-1</p><p>［10］ 刘金山， 夏强．基于MCMC算法的贝叶斯统计方法．： 科学出版社，2017</p><p>［11］ 吴喜之．复杂数据统计方法———基于R的应用．北京： 中国人民大学出版社，2015</p><p>［12］ 高惠璇，应用多元统计分析，北京大学出版社,2005.</p><p>［13］ 范永东 ，模型选择中的交叉验证方法综述，山西大学，2013</p><p>［14］ Jung, Y., Multiple predicting K-fold cross-validation for model selection. Journal of Nonparametric Statistics, 2017.</p>]]></content>
      
      
      <categories>
          
          <category> 研发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据分析 </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从用户体验要素到竞品分析（上）</title>
      <link href="/posts/c3ad.html"/>
      <url>/posts/c3ad.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>初读用户体验要素，感觉很简单很浅显，更像是一本工具书。而到现在了解了产品以及完成了几次产品和活动后，该书逻辑缜密且细微，一步步地明确产品从0到1的过程，更多地是教会一种思维方法。希望下次读此书时，能够有另外一番感受！</p></blockquote><h2 id="《用户体验要素》知识点"><a href="#《用户体验要素》知识点" class="headerlink" title="《用户体验要素》知识点"></a>《用户体验要素》知识点</h2><h3 id="一、战略层"><a href="#一、战略层" class="headerlink" title="一、战略层"></a>一、战略层</h3><blockquote><p>战略层：明确产品需要达到的目标</p></blockquote><h4 id="1-产品目标"><a href="#1-产品目标" class="headerlink" title="1.产品目标"></a>1.产品目标</h4><p>​    产品目标更多是站在企业角度去思考，做了这个产品能给公司带来多大的利益。这个利益不仅仅指的是金钱，包括品牌形象，数据内容填充等等方面。</p><p>​    切记：涉及目标，能够量化尽量量化，否则无法定义完成。</p><h4 id="2-用户需求"><a href="#2-用户需求" class="headerlink" title="2.用户需求"></a>2.用户需求</h4><p>​    用户需求更多是站在用户角度去思考，用户能通过产品解决他们什么问题。</p><p>​    切记：1.你的需求并不是用户的需求。</p><p>​                2.需求并不需要你去与用户交流从而证明出来的。</p><p>​                3.不要误入幸存者偏差，用户样本的维度需要大。</p><p>​                4.需求是针对70%左右的用户。</p><p>​                5.不要被用户的表层需求所欺骗。</p><p>&nbsp;</p><h3 id="二、范围层"><a href="#二、范围层" class="headerlink" title="二、范围层"></a>二、范围层</h3><blockquote><p>范围层：明确功能开发边界</p></blockquote><h4 id="1-功能规格"><a href="#1-功能规格" class="headerlink" title="1.功能规格"></a>1.功能规格</h4><p>​    以文档的形式进行功能边界的确定(需求池管理/需求优先级排列)。</p><p>​    注意：乐观（通过别的行为防止不好的情况发生）、具体、避免主观的语气、需求可验证(明确需求的标准)。</p><h4 id="2-内容需求"><a href="#2-内容需求" class="headerlink" title="2.内容需求"></a>2.内容需求</h4><p>​    对于功能所需要的信息，尽早明确。</p><p>&nbsp;</p><h3 id="三、结构层"><a href="#三、结构层" class="headerlink" title="三、结构层"></a>三、结构层</h3><blockquote><p>结构层：将功能分块整理</p></blockquote><h4 id="1-交互设计"><a href="#1-交互设计" class="headerlink" title="1.交互设计"></a>1.交互设计</h4><p>​    关注描述”可能的用户行为”，同时定义”系统如何配合与相应”这些用户行为。</p><p>​    <strong>概念模型</strong>：用户对于”交互组件将怎样工作”的观点。</p><p>​    <strong>错误处理</strong>：错误提示设计。</p><h4 id="2-信息架构"><a href="#2-信息架构" class="headerlink" title="2.信息架构"></a>2.信息架构</h4><p>​    着重于设计组织分类和导航的结构，从而让用户可以高效率地浏览网站的内容。</p><p>​    <strong>结构方向</strong>：从上到下，从下到上</p><p>​    <strong>结构类型</strong>：层级结构、矩阵结构（多维度）、自然结构（探索性强）、线性结构</p><p>​    <strong>组织原则</strong>：节点应该按照什么原则进行分类。</p><p>​    <strong>语言和元数据</strong>：”使用用户的语言”并且”保持一致性”。</p><p>​        </p><p>&nbsp;</p><h3 id="四、框架层"><a href="#四、框架层" class="headerlink" title="四、框架层"></a>四、框架层</h3><blockquote><p>框架层：关注页面与组件</p></blockquote><h4 id="1-界面设计"><a href="#1-界面设计" class="headerlink" title="1.界面设计"></a>1.界面设计</h4><p>​    突出重点信息，过滤垃圾信息。</p><h4 id="2-导航设计"><a href="#2-导航设计" class="headerlink" title="2.导航设计"></a>2.导航设计</h4><p>​    明确当前页面内容，展示下一步内容定义概述，定义前进方向展示形式</p><p>​    (可有的导航形式：全局导航、局部导航、辅助导航、上下文导航（超链接）、友好导航(友方链接)、网站地图、索引表)</p><h4 id="3-信息设计"><a href="#3-信息设计" class="headerlink" title="3.信息设计"></a>3.信息设计</h4><p>​    互联网中的交互设计师的职责。</p><p>&nbsp;</p><h3 id="五、表现层"><a href="#五、表现层" class="headerlink" title="五、表现层"></a>五、表现层</h3><blockquote><p>表现层：视觉美化    </p></blockquote><p>​    <strong>忠于眼睛</strong>：眼球追踪。</p><p>​    <strong>对比和一致性</strong></p><p>​    <strong>内部和外部的一致性</strong></p><p>​    <strong>配色方案和排版</strong></p><p>​    <strong>设计合成品和风格指南</strong></p><h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>以上只是对书中知识点的总结，将这五层框架转化为自己对产品的理解，加深对自己的负责的产品，竞品的理解，这才是吸收知识应该有的姿势，所以我大致整理为以下结构：</p><ul><li><strong>战略层</strong>（ 企业愿景、产品定位、需求把控、用户习惯、商业模式）</li><li><strong>范围层</strong>（ 主要功能、核心功能、次级功能、功能架构、业务流程设计）</li><li><strong>结构层</strong>（ 信息架构、常规功能、特色功能、实现情况、用户流程分析）</li><li><strong>框架层</strong>（ 操作情况、刷新、页面跳转、查询、交互框架、界面设计、导航设计、标签设计、细节点）</li><li><strong>表现层</strong>（ 视觉表现、布局、配色、排版）</li></ul>]]></content>
      
      
      <categories>
          
          <category> 产品 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 总结归纳 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
